{"version":3,"file":"static/js/489.1eb66c03.chunk.js","mappings":"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","sources":["store/minePool.ts","views/MinePool/styled.ts","views/MinePool/index.tsx","../node_modules/antd-mobile-icons/es/DownOutline.js"],"sourcesContent":["import { getMinePoolData, getMinePoolInfo } from '@/request/api'\r\nimport { create } from 'zustand'\r\n\r\nconst minePoolStore = create<MinePoolStore>()((set, get) => ({\r\n  dataInfo: null,\r\n  dataList: [],\r\n  page: 1,\r\n  hasMore: true,\r\n  getDataInfo: async () => {\r\n    const { data }: any = await getMinePoolInfo()\r\n    set({ dataInfo: data })\r\n  },\r\n  getDataList: async (type = 1, isLoad = false) => {\r\n    const res: any = await getMinePoolData({\r\n      limit: 10,\r\n      page: get().page,\r\n      type,\r\n    })\r\n    if (res.code == 1) {\r\n      const rows: any = res.data.data // 请求返回当页的列表\r\n\r\n      if (rows == null || rows.length === 0) {\r\n        // 加载结束\r\n        set({ hasMore: false })\r\n        return\r\n      }\r\n\r\n      if (res.data.current_page == 1) {\r\n        set({ dataList: rows })\r\n        return\r\n      }\r\n\r\n      // 将新数据与老数据进行合并\r\n      if (isLoad) set((state) => ({ dataList: state.dataList.concat(rows) }))\r\n      // 如果列表数据条数>=总条数，不再触发滚动加载\r\n      if (res.data.last_page == res.data.current_page) {\r\n        set({ hasMore: false })\r\n      }\r\n    }\r\n  },\r\n  loadMore: async (type: number) => {\r\n    if (get().dataList.length) {\r\n      set((state) => ({ page: state.page + 1 }))\r\n      get().getDataList(type, true)\r\n    }\r\n  },\r\n}))\r\nexport default minePoolStore\r\n","import styled, { css } from 'styled-components'\r\nimport boxBg from '@/static/assetsBgLg.png'\r\nimport tabBg from '@/static/tabBg.png'\r\nimport tabActive from '@/static/tabActive1.png'\r\nimport tabDefault from '@/static/tabDefault.png'\r\nimport ListBg from '@/static/listLg-bg.png'\r\n\r\nconst bgStyle = css`\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n`\r\nexport const Content = styled.div`\r\n  padding: 17px 18px;\r\n`\r\nexport const PoolBox = styled.div`\r\n  padding: 33px 12px;\r\n  background-image: url(${boxBg});\r\n  ${bgStyle}\r\n  .topBox {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .left {\r\n      font-size: 12px;\r\n      color: #b6debf;\r\n      span {\r\n        font-size: 24px;\r\n        font-family: zihun152hao-jijiachaojihei-Regular, zihun152hao-jijiachaojihei;\r\n        color: #1bff00;\r\n        font-weight: bold;\r\n        display: block;\r\n        margin-top: 12px;\r\n      }\r\n    }\r\n    .right {\r\n      width: 32px;\r\n      height: 32px;\r\n    }\r\n  }\r\n  .bottomBox {\r\n    margin-top: 32px;\r\n    display: grid;\r\n    grid-template-columns: repeat(3, 1fr);\r\n    gap: 20px 30px;\r\n    div {\r\n      font-size: 12px;\r\n      line-height: 12px;\r\n      color: #b6debf;\r\n      span {\r\n        display: block;\r\n        margin-top: 8px;\r\n        font-weight: bold;\r\n        color: #1bff00;\r\n      }\r\n      &:nth-child(3) {\r\n        text-align: right;\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const PoolTab = styled.div`\r\n  height: 28px;\r\n  width: 280px;\r\n  margin: auto;\r\n  display: flex;\r\n  margin-top: 32px;\r\n  overflow: hidden;\r\n  background-image: url(${tabBg});\r\n  ${bgStyle}\r\n  div {\r\n    flex: 1;\r\n    text-align: center;\r\n    line-height: 28px;\r\n    font-size: 14px;\r\n    font-weight: bold;\r\n    color: #0e360f;\r\n    background-image: url(${tabDefault});\r\n    ${bgStyle}\r\n    transition: background-image 0.3s ease-in-out;\r\n    &.active {\r\n      background-image: url(${tabActive});\r\n    }\r\n  }\r\n`\r\n\r\nconst coinTd = css`\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  font-size: 12px;\r\n  line-height: 12px;\r\n  font-weight: 500;\r\n  div {\r\n    flex: 1;\r\n    &:last-child {\r\n      text-align: right;\r\n    }\r\n  }\r\n`\r\n\r\nexport const List = styled.div`\r\n  margin-top: 12px;\r\n  background-image: url(${ListBg});\r\n  ${bgStyle}\r\n  .content {\r\n    padding: 16px 18px;\r\n    min-height: 470px;\r\n    .th,\r\n    .td {\r\n      ${coinTd}\r\n    }\r\n    .th {\r\n      color: #b6debf;\r\n    }\r\n    .td {\r\n      margin-top: 16px;\r\n      color: #ffffff;\r\n    }\r\n  }\r\n`\r\n","import NavBar from '@/components/NavBar/NavBar'\r\nimport store from '@/store/minePool'\r\nimport { InfiniteScroll } from 'antd-mobile'\r\nimport { useEffect, useState } from 'react'\r\nimport { Content, List, PoolBox, PoolTab } from './styled'\r\n\r\nconst MinePool: React.FC = () => {\r\n  const [tabIndex, setTabIndex] = useState(0)\r\n  const { getDataInfo, dataInfo, getDataList, dataList, loadMore, hasMore } = store()\r\n\r\n  useEffect(() => {\r\n    getDataInfo()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    getDataList(tabIndex)\r\n  }, [tabIndex])\r\n\r\n  return (\r\n    <>\r\n      <NavBar title='矿池' />\r\n      <Content>\r\n        <PoolBox>\r\n          <div className='topBox'>\r\n            <div className='left'>\r\n              当前等级<span>{dataInfo?.mini_group}</span>\r\n            </div>\r\n            <img className='right' src={require('@/static/mask.png')} />\r\n          </div>\r\n          <div className='bottomBox'>\r\n            <div>\r\n              云算力数量<span>{dataInfo?.total}</span>\r\n            </div>\r\n            <div>\r\n              映射算力<span>{dataInfo?.ys_suanli}</span>\r\n            </div>\r\n            <div>\r\n              共识算力<span>{dataInfo?.gs_suanli}</span>\r\n            </div>\r\n            <div>\r\n              矿池质押<span>{dataInfo?.zy_money}</span>\r\n            </div>\r\n            <div>\r\n              矿池算力<span>{dataInfo?.suanli}</span>\r\n            </div>\r\n          </div>\r\n        </PoolBox>\r\n        <PoolTab>\r\n          <div className={tabIndex == 0 ? 'active' : ''} onClick={() => setTabIndex(0)}>\r\n            映射算力\r\n          </div>\r\n          <div className={tabIndex == 1 ? 'active' : ''} onClick={() => setTabIndex(1)}>\r\n            共识算力\r\n          </div>\r\n        </PoolTab>\r\n        <List>\r\n          <div className='content'>\r\n            <div className='th'>\r\n              <div>时间</div>\r\n              <div>地址</div>\r\n              <div>质押(BAYE)</div>\r\n              <div>算力(CU)</div>\r\n            </div>\r\n            {dataList.map((res, index) => {\r\n              return (\r\n                <div className='td' key={index}>\r\n                  <div>{res.create_time}</div>\r\n                  <div>{res.address}</div>\r\n                  <div>{res.zy_money}</div>\r\n                  <div>{res.suanli}</div>\r\n                </div>\r\n              )\r\n            })}\r\n            <InfiniteScroll loadMore={() => loadMore(tabIndex)} hasMore={hasMore} threshold={40} />\r\n          </div>\r\n        </List>\r\n      </Content>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default MinePool\r\n","import * as React from \"react\";\n\nfunction DownOutline(props) {\n  return /*#__PURE__*/React.createElement(\"svg\", Object.assign({\n    width: \"1em\",\n    height: \"1em\",\n    viewBox: \"0 0 48 48\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\"\n  }, props, {\n    style: Object.assign({\n      verticalAlign: '-0.125em'\n    }, props.style),\n    className: ['antd-mobile-icon', props.className].filter(Boolean).join(' ')\n  }), /*#__PURE__*/React.createElement(\"g\", {\n    id: \"DownOutline-DownOutline\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n    id: \"DownOutline-\\u77E9\\u5F62\",\n    fill: \"#FFFFFF\",\n    opacity: 0,\n    x: 0,\n    y: 0,\n    width: 48,\n    height: 48\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M5.11219264,16.3947957 L22.6612572,34.5767382 L22.6612572,34.5767382 C23.2125856,35.1304785 24.0863155,35.1630514 24.6755735,34.6744571 L24.7825775,34.5767382 L42.8834676,16.3956061 C42.9580998,16.320643 43,16.2191697 43,16.1133896 L43,12.9866673 C43,12.7657534 42.8209139,12.5866673 42.6,12.5866673 C42.4936115,12.5866673 42.391606,12.6290496 42.316542,12.7044413 L23.7816937,31.3201933 L23.7816937,31.3201933 L5.6866816,12.7237117 C5.53262122,12.5653818 5.27937888,12.5619207 5.121049,12.7159811 C5.04365775,12.7912854 5,12.8946805 5,13.0026627 L5,16.1170064 C5,16.2206403 5.04022164,16.3202292 5.11219264,16.3947957 Z\",\n    id: \"DownOutline-down\",\n    fill: \"currentColor\",\n    fillRule: \"nonzero\"\n  }))));\n}\n\nexport default DownOutline;"],"names":["minePoolStore","create","set","get","_getDataInfo","_getDataList","_loadMore","dataInfo","dataList","page","hasMore","getDataInfo","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$getMinePoolInf","data","wrap","_context","prev","next","getMinePoolInfo","sent","stop","apply","arguments","getDataList","_callee2","type","isLoad","res","rows","_args2","_context2","length","undefined","getMinePoolData","limit","code","abrupt","current_page","state","concat","last_page","loadMore","_x","_callee3","_context3","bgStyle","css","_templateObject","_taggedTemplateLiteral","Content","styled","div","_templateObject2","PoolBox","_templateObject3","PoolTab","_templateObject4","tabDefault","coinTd","_templateObject5","List","_templateObject6","ListBg","_useState","useState","_useState2","_slicedToArray","tabIndex","setTabIndex","_store","store","useEffect","_jsxs","_Fragment","children","_jsx","NavBar","title","className","mini_group","src","require","total","ys_suanli","gs_suanli","zy_money","suanli","onClick","map","index","create_time","address","InfiniteScroll","threshold","props","React","Object","assign","width","height","viewBox","xmlns","xmlnsXlink","style","verticalAlign","filter","Boolean","join","id","stroke","strokeWidth","fill","fillRule","opacity","x","y","d"],"sourceRoot":""}
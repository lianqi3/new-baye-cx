{"version":3,"file":"static/js/793.41907e4b.chunk.js","mappings":"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","sources":["store/minePool.ts","views/Invite/styled.ts","views/Invite/index.tsx"],"sourcesContent":["import { getMinePoolData, getMinePoolInfo } from '@/request/api'\r\nimport { create } from 'zustand'\r\n\r\nconst minePoolStore = create<MinePoolStore>()((set, get) => ({\r\n  dataInfo: null,\r\n  dataList: [],\r\n  page: 1,\r\n  hasMore: true,\r\n  getDataInfo: async () => {\r\n    const { data }: any = await getMinePoolInfo()\r\n    set({ dataInfo: data })\r\n  },\r\n  getDataList: async (type = 1, isLoad = false) => {\r\n    const res: any = await getMinePoolData({\r\n      limit: 10,\r\n      page: get().page,\r\n      type,\r\n    })\r\n    if (res.code == 1) {\r\n      const rows: any = res.data.data // 请求返回当页的列表\r\n\r\n      if (rows == null || rows.length === 0) {\r\n        // 加载结束\r\n        set({ hasMore: false })\r\n        return\r\n      }\r\n\r\n      if (res.data.current_page == 1) {\r\n        set({ dataList: rows })\r\n        return\r\n      }\r\n\r\n      // 将新数据与老数据进行合并\r\n      if (isLoad) set((state) => ({ dataList: state.dataList.concat(rows) }))\r\n      // 如果列表数据条数>=总条数，不再触发滚动加载\r\n      if (res.data.last_page == res.data.current_page) {\r\n        set({ hasMore: false })\r\n      }\r\n    }\r\n  },\r\n  loadMore: async (type: number) => {\r\n    if (get().dataList.length) {\r\n      set((state) => ({ page: state.page + 1 }))\r\n      get().getDataList(type, true)\r\n    }\r\n  },\r\n}))\r\nexport default minePoolStore\r\n","import styled, { css } from 'styled-components'\r\nimport inviteBg from '@/static/inviteBg.png'\r\nimport InfoBg from '@/static/withdraw-bg.png'\r\n\r\nconst bgStyle = css`\r\n  background-size: 100% 100%;\r\n  background-repeat: no-repeat;\r\n`\r\n\r\nexport const Content = styled.div`\r\n  padding: 20px 21px;\r\n`\r\n\r\nexport const InviteBox = styled.div`\r\n  margin-top: 56px;\r\n  padding-top: 21px;\r\n  padding-bottom: 28px;\r\n  height: 500px;\r\n  background-image: url(${inviteBg});\r\n  ${bgStyle}\r\n  .title {\r\n    font-size: 32px;\r\n    font-weight: bold;\r\n    color: #ffffff;\r\n    text-align: center;\r\n  }\r\n  .info {\r\n    text-align: center;\r\n    width: 267px;\r\n    margin: auto;\r\n    font-size: 13px;\r\n    font-weight: bold;\r\n    color: #ffffff;\r\n  }\r\n`\r\n\r\nexport const InviteInfo = styled.div`\r\n  margin-top: 24px;\r\n  display: flex;\r\n  font-size: 14px;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n  justify-content: space-between;\r\n  padding: 13px 12px;\r\n  background-image: url(${InfoBg});\r\n  ${bgStyle}\r\n  div {\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n  span {\r\n    display: block;\r\n    width: 70%;\r\n    margin-left: 16px;\r\n    white-space: nowrap; /* 防止文本换行 */\r\n    overflow: hidden; /* 隐藏溢出的文本 */\r\n    text-overflow: ellipsis; /* 显示省略号 */\r\n  }\r\n  img {\r\n    width: 24px;\r\n    height: 24px;\r\n  }\r\n`\r\n","import NavBar from '@/components/NavBar/NavBar'\r\nimport { Content, InviteBox, InviteInfo } from './styled'\r\nimport store from '@/store/minePool'\r\nimport { useEffect } from 'react'\r\nimport QRCode from 'qrcode.react'\r\nimport { Toast } from 'antd-mobile'\r\nimport { t } from 'i18next'\r\n\r\nconst Invite: React.FC = () => {\r\n  const { getDataInfo, dataInfo } = store()\r\n\r\n  const paddingStyle = {\r\n    margin: '200px auto auto',\r\n    padding: '8px',\r\n    backgroundColor: '#fff',\r\n  }\r\n\r\n  useEffect(() => {\r\n    getDataInfo()\r\n  }, [])\r\n\r\n  const handleCopyContent = () => {\r\n    const textarea = document.createElement('textarea')\r\n    textarea.value = dataInfo?.invite_url || ''\r\n    document.body.appendChild(textarea)\r\n    textarea.select()\r\n    document.execCommand('copy')\r\n    document.body.removeChild(textarea)\r\n    Toast.show({\r\n      content: '复制成功',\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <NavBar title='邀请' />\r\n      <Content>\r\n        <InviteBox>\r\n          <div className='title'>Invite Friends</div>\r\n          <div className='info'>\r\n            Friends pledge to buy computing powerthe boss easily get commission\r\n          </div>\r\n          <QRCode\r\n            value={dataInfo?.invite_qr_code || ''}\r\n            size={164} // 设置二维码大小，以像素为单位\r\n            fgColor='#000' // 设置前景色（二维码颜色）\r\n            bgColor='#fff' // 设置背景色\r\n            level='H' // 设置纠错级别（可选值：L, M, Q, H）\r\n            style={paddingStyle}\r\n          />\r\n        </InviteBox>\r\n        <InviteInfo>\r\n          <div>\r\n            邀请链接 <span>{dataInfo?.invite_url}</span>\r\n          </div>\r\n          <img src={require('@/static/copy.png')} onClick={() => handleCopyContent()} />\r\n        </InviteInfo>\r\n      </Content>\r\n    </>\r\n  )\r\n}\r\nexport default Invite\r\n"],"names":["minePoolStore","create","set","get","_getDataInfo","_getDataList","_loadMore","dataInfo","dataList","page","hasMore","getDataInfo","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$getMinePoolInf","data","wrap","_context","prev","next","getMinePoolInfo","sent","stop","apply","arguments","getDataList","_callee2","type","isLoad","res","rows","_args2","_context2","length","undefined","getMinePoolData","limit","code","abrupt","current_page","state","concat","last_page","loadMore","_x","_callee3","_context3","bgStyle","css","_templateObject","_taggedTemplateLiteral","Content","styled","div","_templateObject2","InviteBox","_templateObject3","inviteBg","InviteInfo","_templateObject4","InfoBg","_store","store","useEffect","_jsxs","_Fragment","children","_jsx","NavBar","title","className","QRCode","value","invite_qr_code","size","fgColor","bgColor","level","style","margin","padding","backgroundColor","invite_url","src","require","onClick","textarea","document","createElement","body","appendChild","select","execCommand","removeChild","Toast","show","content","handleCopyContent"],"sourceRoot":""}